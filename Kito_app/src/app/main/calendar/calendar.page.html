<ion-header>
  <app-header [headerCustom]="headerCustom"></app-header>
</ion-header>

<ion-content [scrollEvents]="true" (ionScroll)="onScrollContent($event)">
  <ion-buttons class="header">
    <ion-icon (click)="prevMonth()" name="chevron-back-outline" [ngClass]="{'icon-disabled': checkStartMonth()}">
    </ion-icon>
    <span class="date">Tháng {{ currentDate.getMonth() + 1 }} . {{ currentDate.getFullYear() }}</span>
    <ion-icon (click)="nextMonth()" name="chevron-forward-outline" [ngClass]="{'icon-disabled': checkEndMonth()}">
    </ion-icon>

    <div class="filter">
      <ion-icon class="filter-icon" (click)="toggleFilter()" name="options"></ion-icon>
      <div *ngIf="hasFilter" class="filter-options" (click)="toggleFilter()">
        <div class="filter-option">Xem theo ngày</div>
        <div class="filter-option">Xem theo tháng</div>
      </div>
    </div>
  </ion-buttons>

  <ion-slides #slides (ionSlideDidChange)="changeCurrentDate()">
    <ion-slide *ngFor="let month of months">
      <ion-buttons class="days">
        <div class="day">Th2</div>
        <div class="day">Th3</div>
        <div class="day">Th4</div>
        <div class="day">Th5</div>
        <div class="day">Th6</div>
        <div class="day">Th7</div>
        <div class="day">CN</div>
      </ion-buttons>

      <ion-buttons class="dates">
        <div *ngFor="let date of month" class="date-container">
          <ion-buttons class="date" [ngClass]="{'date-opacity': !checkRightMonthAndYear(date.date, month[12].date) }">
            <div class="date-top">
              <span class="circle" [style.background]="date.shirt_color?.color_code"
                [ngClass]="{'border': date.shirt_color?.color_code === '#FFFFFF', 'opacity-none': !checkRightMonthAndYear(date.date, month[12].date) }"></span>
              <span class="calendar-date">{{ date.date.getDate() }}</span>
            </div>
            <div class="date-bottom">
              <span class="lunar-date">{{ date.lunar_date.getDate() }}</span>
            </div>
          </ion-buttons>
        </div>
      </ion-buttons>

      <div class="solemnity">
        <div class="solemnity-label">Lễ trọng trong tháng</div>
        <ion-list class="solemnity-list">
          <ng-container *ngFor="let date of month">
            <ion-buttons *ngIf="checkRightMonthAndYear(date.date, month[12].date) && date.isSolemnity"
              class="solemnity-item">
              <span class="solemnity-item-date">{{ getDateString(date.date) }}</span>
              <span class="solemnity-item-name">Tên lễ trọng</span>
            </ion-buttons>
          </ng-container>
        </ion-list>
      </div>
    </ion-slide>
  </ion-slides>
</ion-content>